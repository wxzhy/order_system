![](media/image1.png){width="5.768055555555556in"
height="1.5979166666666667in"}

《软件工程原理与应用》

系统设计报告

食堂餐点预定系统

  ----------- -----------------------------------------------------
  小 组       104 B 朱浩瑜 兰振东 王子润 植阳

  学院        计算机科学与技术学院/人工智能学院/软件学院

  专业        计算机科学与技术

  班级        1622104 1622103
  ----------- -----------------------------------------------------

二〇二四年十一月

目录

[一、引言 [2](#_Toc351227668)](#_Toc351227668)

[1、编写目的 [2](#编写目的)](#编写目的)

[2、背景 [3](#背景)](#背景)

[3、定义 [3](#定义)](#定义)

[4、参考文献 [4](#参考文献)](#参考文献)

[二、界面设计 [4](#二界面设计)](#二界面设计)

[1、User类 [4](#user类)](#user类)

[2、 Administrator类 [11](#administrator类)](#administrator类)

[3、 Store类 [14](#store类)](#store类)

[4、 Item类 [18](#item类)](#item类)

[5、 Order类 [25](#order类)](#order类)

[6、Comment类 [28](#comment类)](#comment类)

[三、事务逻辑设计 [31](#三事务逻辑设计)](#三事务逻辑设计)

[1、User类 [31](#user类-1)](#user类-1)

[2、Administrator类 [34](#administrator类-1)](#administrator类-1)

[3、Store类 [36](#store类-1)](#store类-1)

[4、Item类 [38](#item类-1)](#item类-1)

[5、Order类 [40](#order类-1)](#order类-1)

[7、Comment类 [41](#comment类-1)](#comment类-1)

[四、数据库设计 [43](#四数据库设计)](#四数据库设计)

[1、 User类 [43](#user类-2)](#user类-2)

[2、 Store类 [43](#store类-2)](#store类-2)

[3、 Item类 [43](#item类-2)](#item类-2)

[4、 Order类 [44](#order类-2)](#order类-2)

[5、 OrderItem类 [44](#orderitem类)](#orderitem类)

[6、 Comment类 [44](#comment类-2)](#comment类-2)

[]{#_Toc351227668 .anchor}

# 一、引言

## 1、编写目的

需求说明书目的是使用户和软件开发者双方对该软件有一个共同的理解，使之成为整个开发工作的基础。便于用户、开发人员进行理解和交流，反映出用户问题的结构，可以作为软件开发工作的基础和依据，并作为确认测试和验收的依据。

预期读者：软件设计者和测试者。

## 2、背景

说明：

1.  待开发的软件系统的名称：食堂餐点预定平台

2.  本项目的任务提出者：朱浩瑜 兰振东 植阳 王子润；

3.  本项目的任务开发者：朱浩瑜 兰振东 植阳 王子润；

4.  用户：高校食堂商户 教职工 学生。

5.  实现该软件的计算中心或计算机网络：南京航空航天大学计算中心。

## 3、定义

  ------------------ ----------------------------------------------------------------------------------------------------------------------------------------------------------------------
         名称                                                                                         说明

         账号                                                                      用户注册时登记的用户名（手机或邮箱）及密码

       用户分类                                                                          普通用户、商家用户、管理员用户

     账户信息管理     用户与管理员都可通过该模块对自己的信息进行增加、查询、修改、删除操作，分别对应注册、登录、修改用户信息及找回密码、注销，管理员拥有对所有用户的信息进行各项操作的权限

       创建菜单                                                                         商家用户填写需要创建的菜单后送审

       修改菜单                                                                        发布该信息的商家用户修改菜单后送审

       查看菜单                                                                           所有用户均可查看已发布的菜单

       审核菜单                                                               管理员审核商家用户发布的菜单信息，可以选择通过或退回

     创建订单信息                                                             普通用户选择餐点生成订单，结算时将订单发送至商家用户

     审核订单信息                                                                    商家对用户订单进行反馈，选择接单或退回

     删除订单信息                                                         用户可删除已提交未被商家确认的订单，管理员可删除全部预约订单

     查看订单信息                                                    普通用户和商家用户可以查看与自己相关的的订单信息，管理员可查看全部订单

       发表评论                                                                              用户可以对商家进行评论

       查看评论                                                                         用户查看其他人或自己发布过的评论

       审核评论                                                                   管理员审核用户发表的评论，可以选择通过或退回

       删除评论                                                                       发布该评论的用户或管理员可以删除评论
  ------------------ ----------------------------------------------------------------------------------------------------------------------------------------------------------------------

## 4、参考文献

  ------ ------------------------------------------------------ -----------
  编号   参考资料                                               作者

  1      《软件工程（第四版）》，高等教育出版社，2019           齐治昌等

  2      《构建之法（第二版）》，人民邮电出版社，2015           邹欣
  ------ ------------------------------------------------------ -----------

# 二、界面设计

## 1、User类

  ------------------------------- ---------------------------------------
  signup.html                     普通用户注册页面

  ------------------------------- ---------------------------------------

web：

![](media/image2.png){width="5.188194444444444in"
height="3.9444444444444446in"}

app:

![](media/image3.png){width="2.1166666666666667in" height="4.01875in"}

  ------------------------------- ---------------------------------------
  login.html                      登录页面

  ------------------------------- ---------------------------------------

web:

![](media/image4.png){width="4.406944444444444in"
height="3.2555555555555555in"}

app:

![](media/image5.png){width="2.05in" height="4.641666666666667in"}

  ------------------------------- ---------------------------------------
  homePage.html                   首页

  ------------------------------- ---------------------------------------

web:

![](media/image4.png){width="3.7194444444444446in"
height="2.7472222222222222in"}

app:

![](media/image6.png){width="1.9416666666666667in"
height="5.903472222222222in"}

  ------------------------------- ---------------------------------------
  myInfo.html                     查看个人信息页面

  ------------------------------- ---------------------------------------

web:

![](media/image7.png){width="4.490972222222222in"
height="3.361111111111111in"}

app:

![](media/image8.png){width="2.058333333333333in" height="4.675in"}

  ------------------------------- ---------------------------------------
  updatePassword.html             修改密码

  ------------------------------- ---------------------------------------

web:

![](media/image9.png){width="5.006944444444445in"
height="3.745833333333333in"}

app:

![](media/image10.png){width="2.1in" height="4.683333333333334in"}

  ------------------------------- ---------------------------------------
  resetPassword.html              密码找回页面

  ------------------------------- ---------------------------------------

web:

![](media/image11.png){width="2.6909722222222223in"
height="2.0520833333333335in"}![](media/image12.png){width="2.9277777777777776in"
height="2.1902777777777778in"}

app:

![](media/image13.png){width="1.7395833333333333in"
height="3.9166666666666665in"}![](media/image14.png){width="1.742361111111111in"
height="3.9145833333333333in"}![](media/image15.png){width="1.7708333333333333in"
height="3.915277777777778in"}![](media/image16.png){width="1.6347222222222222in"
height="3.625in"}

## Administrator类

  -------------------------------- --------------------------------------
  manageUser.html                  管理用户账号页面

  -------------------------------- --------------------------------------

web:

![](media/image17.png){width="5.766666666666667in"
height="3.7840277777777778in"}

  -------------------------------- --------------------------------------
  userInfo.html                    查询用户结果页面

  -------------------------------- --------------------------------------

web:

![](media/image18.png){width="5.764583333333333in" height="3.8125in"}

  -------------------------------- --------------------------------------
  reviewStoreInfo.html             审核商家信息页面

  -------------------------------- --------------------------------------

web:

![](media/image19.png){width="5.761111111111111in"
height="3.7729166666666667in"}

  -------------------------------- --------------------------------------
  changePassword.html              修改密码页面

  -------------------------------- --------------------------------------

web:

![](media/image20.png){width="5.7625in" height="3.8020833333333335in"}

## Store类

  ------------------------------------- ---------------------------------
  submitStoreInfo.html                  提交商家信息页面

  ------------------------------------- ---------------------------------

web:

![](media/image21.png){width="4.916666666666667in" height="3.125in"}

app:

![](media/image22.png){width="2.1020833333333333in"
height="3.4430555555555555in"}![](media/image23.png){width="2.0083333333333333in"
height="3.375in"}

  ----------------------------------- -----------------------------------
  updateStoreInfo.html                编辑商家信息页面

  ----------------------------------- -----------------------------------

web:

![](media/image24.png){width="4.85in" height="3.025in"}

app:

![](media/image25.png){width="1.975in" height="3.3833333333333333in"}

  ----------------------------------- -----------------------------------
  displayStoreInfo.html               商家信息详情页面

  ----------------------------------- -----------------------------------

web:

![](media/image26.png){width="4.85in" height="3.025in"}

app:

![](media/image27.png){width="2.025in" height="3.3583333333333334in"}

  ----------------------------------- -----------------------------------
  manageStore.html                    管理商家信息页面

  ----------------------------------- -----------------------------------

web:

![](media/image28.png){width="4.841666666666667in"
height="3.0166666666666666in"}

app:

![](media/image29.png){width="2.14375in"
height="3.4618055555555554in"}![](media/image30.png){width="2.0416666666666665in"
height="3.475in"}

  ----------------------------------- -----------------------------------
  storeList.html                      商家列表页面

  ----------------------------------- -----------------------------------

web:

![](media/image31.png){width="5.341666666666667in"
height="3.3333333333333335in"}

app:

![](media/image32.png){width="2.2270833333333333in"
height="3.783333333333333in"}![](media/image33.png){width="2.2083333333333335in"
height="3.7333333333333334in"}

## Item类

  ----------------------------------- -----------------------------------
  addItem.html                        添加餐点信息页面

  ----------------------------------- -----------------------------------

web:

![](media/image34.png){width="5.35in" height="3.316666666666667in"}

app:

![](media/image35.png){width="2.225in" height="3.7333333333333334in"}

  ----------------------------------- -----------------------------------
  EditItemInf.html                    编辑餐点信息页面

  ----------------------------------- -----------------------------------

web:

![](media/image36.png){width="5.316666666666666in"
height="3.316666666666667in"}

app:

![](media/image37.png){width="2.175in" height="3.7083333333333335in"}

  ----------------------------------- -----------------------------------
  showItemInf.html                    餐点列表界面

  ----------------------------------- -----------------------------------

web:

![](media/image38.png){width="5.333333333333333in" height="3.3in"}

app:

![](media/image39.png){width="2.175in" height="3.7666666666666666in"}

  ----------------------------------- -----------------------------------
  ManageItemInf.html                  管理餐点页面

  ----------------------------------- -----------------------------------

web:

![](media/image40.png){width="5.375in" height="3.3916666666666666in"}

app:

![](media/image41.png){width="2.225in" height="3.675in"}

  ------------------------------------- ---------------------------------
  AuditItemInfo.html                    审核餐点信息页面

  ------------------------------------- ---------------------------------

web:

![](media/image42.png){width="5.375in" height="3.375in"}

app:

![](media/image43.png){width="2.183333333333333in" height="3.725in"}

  ------------------------------------- ---------------------------------
  selectItem.html                       用户选餐页面

  ------------------------------------- ---------------------------------

web:

![](media/image44.png){width="5.333333333333333in" height="3.375in"}

app:

![](media/image45.png){width="2.191666666666667in"
height="3.7583333333333333in"}

  ----------------------------------- -----------------------------------
  ItemInfo.html                       餐点详情页面

  ----------------------------------- -----------------------------------

web:

![](media/image46.png){width="5.358333333333333in"
height="3.3916666666666666in"}

app:

![](media/image47.png){width="2.183333333333333in"
height="3.7333333333333334in"}

## Order类

web:

  ----------------------------------- -----------------------------------
  submitOrder.html                    提交订单页面

  ----------------------------------- -----------------------------------

![](media/image48.png){width="5.563888888888889in"
height="4.082638888888889in"}

  ----------------------------------- -----------------------------------
  storeOrder.html                     商家审核订单页面

  ----------------------------------- -----------------------------------

![](media/image49.png){width="5.763194444444444in"
height="4.009722222222222in"}

  ----------------------------------- -----------------------------------
  myOrder.html                        用户订单页面

  ----------------------------------- -----------------------------------

![](media/image50.png){width="5.763194444444444in"
height="3.998611111111111in"}

  ----------------------------------- -----------------------------------
  manageOrder.html                    管理订单页面

  ----------------------------------- -----------------------------------

![](media/image51.png){width="5.7659722222222225in"
height="4.083333333333333in"}

## 6、Comment类

web:

  ----------------------------------- -----------------------------------
  publishComment.html                 发布评论页面

  ----------------------------------- -----------------------------------

![](media/image52.png){width="5.7659722222222225in"
height="4.1930555555555555in"}

  ----------------------------------- -----------------------------------
  storeComment.html                   商家评论页面

  ----------------------------------- -----------------------------------

![](media/image53.png){width="5.759722222222222in"
height="3.986111111111111in"}

  ----------------------------------- -----------------------------------
  myComment.html                      用户评论页面

  ----------------------------------- -----------------------------------

![](media/image54.png){width="5.763194444444444in"
height="4.1715277777777775in"}

  ----------------------------------- -----------------------------------
  commentDetail.html                  评论详情页面

  ----------------------------------- -----------------------------------

![](media/image55.png){width="5.761805555555555in"
height="4.052083333333333in"}

  ----------------------------------- -----------------------------------
  manageComment.html                  管理评论页面

  ----------------------------------- -----------------------------------

![](media/image56.png){width="5.7625in" height="3.9868055555555557in"}

# 三、事务逻辑设计

## 1、User类

登录处理

Procedure login

Begin

choose the method of login

If (choose the Account password login) then

get the email or phonenumber and password from signin.html

find the usermailbox and password in the database

If (usermailbox not found ) or (usermailbox exist but inputPassWord !=
Password indatabase )then

display error hint

Else

goto index.html

End if

Else if (choose the verification code login) then

get the phonenumber or email and the verification from signin.html

find the phonenumber or mail in the database and check the verification

If (phonenumber not found and email not found) or (the verification is
not correct) then

display error hint

Else

goto index.html

End if

End if

End login

注册处理

Procedure signup

Begin

get the new_user\'s info from signup.html

find the email or phonenumber in the database

If (the usermailbox or phonenumber existed in the database) then

show error hint

Else

send the verification to the user with SMS or email

get and check the verification from signup.html

If (the verification is not correct) then

show error hint and let the user try again

Else

add user\'s info to database

goto signin.html

End if

End if

End signup

修改个人信息处理

Procedure changeUserInfo

Begin

get the changed userinfo from myInfo.html

find the user and the user\'s info in database

input the new info into database

goto myInfo.html

End changeUserInfo

修改密码处理

Procedure changepassword

Begin

get the originalpassword from changepassword.html

If the (inputpassword ==correct password in database) then

get two new_password which is inputted by the user twice

If (the two new_password is the same) then

find the user\'s info in the database

change the old_password into the new password

goto getUserInfo.html

Else

show error hint

End if

Else

show error hint

End if

End changepassword

忘记密码重置密码处理

Procedure forgetpassword

Begin

get the user\'s phonenumber or email from resetpassword.html

find the user\'s phonenumber or email in the database

If (the user\'s phonenumber o email is existed) then

send the verification to the user with SMS or email

get and check the verification from resetpassword.html

If (the verification is not correct) then

show error hint and let the user try again

Else

show the set_new_password page and let the user set the new password

get two new_password which is inputted by the user twice

If (the two new_password is the same) then

find the user\'s info in the database

change the old_password into the new-seted password

goto signin.html

Else

show error hint and let the user try again

End if

End if

Else

show error hint

End if

End forgetpassword

注销账号处理

Procedure disableUser

Begin

get the disableUser submit from myInfo.html

show cancelUser dialog

get the result from cancelUser dialog

If (the reuslt is yes) then

find the user in database

cancel the user\'s account and set the account is non-existent in the
database

goto signin.html

Else

return to myInfo.html

End if

End cancelUser

## 2、Administrator类

登录处理

Procedure login

Begin

choose the method of login

If (choose the Account password login) then

get the usermailbox and userPassword from signin.html

find the usermailbox in the database

If (usermailbox not found) or (usermailbox exist but inputPassWord !=
Password indatabase )then

display error hint

Else

goto index.html

End if

End if

End login

管理用户账号

Procedure manageUser

Begin

choose the fuction of manageUser part

If (use the fuction of search_user) then

get the userinfo which is inputted to search the user

find the user whose info is correspondant to the submitted

If (the user is existed in the database) then

show the search result

Else

show no search result hint

End if

Else if (use the function of change_user_info) then

show the designated user\'s detailed info

get the Specific manage operation and operate the database

goto userInfo.html

Else if (use the function of delete_user_info) then

show confirm dialog

check the result from the dialog

If (the password is correct) then

delete the designated user and this user\'s info in the database

goto userInfo.html

Else

show error hint

End if

End if

End manageUser

管理员审核商家处理

Procedure ReviewStore

Begin

show the store\'s detailed info

get the result from the page

If the result is Accept then

set the status of the store

> goto storeList.html

Else

send message to vendor user

> delete store info
>
> goto storeList.html

End if

End ReviewStore

## 3、Store类

商家提交信息

PROCEDURE submitStoreInfo

BEGIN

> get the info from submitStoreInfo.html
>
> IF (content is empty)THEN
>
> display error hint
>
> ELSE
>
> record the time of the submission \--\*record the time
>
> show the store info is waiting review
>
> goto displayStoreInfo.html

ENDIF

END submitStoreInfo

删除商家信息

PROCEDURE deleteStoreInfo

BEGIN

> get the store name from mangeStore.html
>
> find the store name in the database
>
> IF (the store name not found) THEN
>
> display error message
>
> ELSE
>
> IF (the store has remaining order) THEN
>
> show error hint
>
> ELSE
>
> delete the store from the database
>
> display success message
>
> goto manageStore.html
>
> ENDIF

ENDIF

END deleteStoreInfo

修改商家信息

PROCEDURE updateStoreInfo

BEGIN

> find the store in the database
>
> get the changed storeInfo from updateStoreInfo.html
>
> IF (the store info is corrent) THEN
>
> input the updated store info into the database
>
> goto displayStoreInfo.html
>
> ELSE
>
> show error hint
>
> ENDIF

END updateStoreInfo

列出商家信息

PROCEDURE listStore

BEGIN

If (use the fuction of search_store) then

get the store name which is inputted to search the user

find the store whose info is correspondant to the submitted

If (the store is existed in the database) then

show the search result

Else

show no search result hint

End if

> ELSE
>
> show all stores from the database

END listStore

## 4、Item类

添加餐点信息

Procedure addItem

begin

get the item\'s information from addItem.html

if the information corresponding to the store info then

add item to store

> goto itemList.html

else

display error info

end if

end

编辑餐点信息

Procedure editItem

begin

display item info

change in item information according to the template

submit the registration information

update item information in the database

End

删除餐点信息

Procedure manageItem

begin

get all items from manageItem.html

> get user choice from the prompt

If (confirm_delete == true) then

Delete item from the database;

Show hint

> return to manageItem.html

Else

> show error hint
>
> return to manageItem.html

End if

End deleteClock

end

## 5、Order类

提交订单处理

Procedure SubmitOrder

Begin

> If(Login() = true and usertype is customer) then
>
> Enter submitOrder.html
>
> Select order items and quantity
>
> click submit
>
> enter address and time then pay the order
>
> add order and set order state to awaiting review
>
> End if

End SubmitOrder

审核订单处理

Procedure DeleteThemePost

Begin

> If(login() = true and usertype is vendor) then
>
> If( find(order)!=false or order has approved) then
>
> return error
>
> Else
>
> get actions from the dialog
>
> If action is approve then
>
> set the order state to approved
>
> Else
>
> set the order state to canceled
>
> send message to user
>
> End if
>
> End if
>
> End if

End DeleteThemePost

## 7、Comment类

发表评论

Procedure Comment

Begin

> If(login()=true) then
>
> Find the store
>
> Enter the store
>
> Submit the comment
>
> input the comment to database
>
> show info
>
> goto storeComment.html
>
> End if

End Comment

发表评论

Procedure submitComment

Begin

> If(login()=true and usertype is customer) then
>
> Find the store
>
> Enter the store
>
> Submit the comment
>
> input the comment to database
>
> show info
>
> goto storeComment.html
>
> End if

End submitComment

审核评论

Procedure deleteComment

Begin

> If(login()=true and usertype is customer) then
>
> Find the Comment
>
> display the comment at myComment.html
>
> get choice from commentDetail.html
>
> If choice is true then
>
> delete comment from the database
>
> goto myComment.html
>
> Else
>
> goto myComment.html
>
> End if

End deleteComment

查看评论

Procedure storeComment

Begin

> get store name
>
> If(store name is exist) then
>
> Find the Comment in the database
>
> display the comment at storeComment.html
>
> Else
>
> show error hint
>
> End if

End storeComment

# 四、数据库设计

## User类

![](media/image57.png){width="5.7659722222222225in"
height="1.9368055555555554in"}

## Store类

![](media/image58.png){width="5.7625in" height="1.8576388888888888in"}

## Item类

![](media/image59.png){width="5.7652777777777775in"
height="1.2798611111111111in"}

## Order类

![](media/image60.png){width="5.7652777777777775in"
height="1.1652777777777779in"}

## OrderItem类

![](media/image61.png){width="5.756944444444445in"
height="1.0618055555555554in"}

## Comment类

![](media/image62.png){width="5.768055555555556in"
height="1.4979166666666666in"}
