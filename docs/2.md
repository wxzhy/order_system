![](media/image1.png){width="5.768055555555556in"
height="1.5979166666666667in"}

《软件工程原理与应用》

需求分析报告

食堂餐点预约系统

  ----------- ------------------------------------------------------
  小 组                  104 B 朱浩瑜 兰振东 王子润 植阳

  学院              计算机科学与技术学院/人工智能学院/软件学院

  专业                           计算机科学与技术

  班级                           1621104 1622103
  ----------- ------------------------------------------------------

二〇二四年十月

# 目 录 {#目-录 .TOC-标题1}

[一、引言 [2](#一引言)](#一引言)

[1、编写目的 [2](#编写目的)](#编写目的)

[2、背景 [3](#背景)](#背景)

[3、定义 [3](#定义)](#定义)

[4、参考文献 [4](#参考文献)](#参考文献)

[二、系统结构模型 [5](#二系统结构模型)](#二系统结构模型)

[1、初始对象表 [5](#初始对象表)](#初始对象表)

[2、初始类图 [5](#初始类图)](#初始类图)

[3、细化类图 [5](#细化类图)](#细化类图)

[3.1属性的识别 [5](#属性的识别)](#属性的识别)

[3.2操作的识别 [5](#操作的识别)](#操作的识别)

[4、三层精化类图 [5](#三层精化类图)](#三层精化类图)

[三、系统行为模型 [9](#三系统行为模型)](#三系统行为模型)

[1、交互模型 [9](#交互模型)](#交互模型)

[2、状态模型 [17](#状态模型)](#状态模型)

# 一、引言

## 1、编写目的

需求说明书目的是使用户和软件开发者双方对该软件有一个共同的理解，使之成为整个开发工作的基础。便于用户、开发人员进行理解和交流，反映出用户问题的结构，可以作为软件开发工作的基础和依据，并作为确认测试和验收的依据。

预期读者：软件设计者和测试者。

## 2、背景

说明：

1.  待开发的软件系统的名称：食堂餐点预定平台

2.  本项目的任务提出者：朱浩瑜 兰振东 植阳 王子润；

3.  本项目的任务开发者：朱浩瑜 兰振东 植阳 王子润；

4.  用户：高校食堂商户 教职工 学生。

5.  实现该软件的计算中心或计算机网络：南京航空航天大学计算中心。

## 定义

  ------------------ ----------------------------------------------------------------------------------------------------------------------------------------------------------------------
         名称                                                                                         说明

         账号                                                                      用户注册时登记的用户名（手机或邮箱）及密码

       用户分类                                                                          普通用户、商家用户、管理员用户

     账户信息管理     用户与管理员都可通过该模块对自己的信息进行增加、查询、修改、删除操作，分别对应注册、登录、修改用户信息及找回密码、注销，管理员拥有对所有用户的信息进行各项操作的权限

       创建菜单                                                                         商家用户填写需要创建的菜单后送审

       修改菜单                                                                        发布该信息的商家用户修改菜单后送审

       查看菜单                                                                           所有用户均可查看已发布的菜单

       审核菜单                                                               管理员审核商家用户发布的菜单信息，可以选择通过或退回

     创建订单信息                                                             普通用户选择餐点生成订单，结算时将订单发送至商家用户

     审核订单信息                                                                    商家对用户订单进行反馈，选择接单或退回

     删除订单信息                                                         用户可删除已提交未被商家确认的订单，管理员可删除全部预约订单

     查看订单信息                                                    普通用户和商家用户可以查看与自己相关的的订单信息，管理员可查看全部订单

       发表评论                                                                              用户可以对商家进行评论

       查看评论                                                                         用户查看其他人或自己发布过的评论

       审核评论                                                                   管理员审核用户发表的评论，可以选择通过或退回

       删除评论                                                                       发布该评论的用户或管理员可以删除评论
  ------------------ ----------------------------------------------------------------------------------------------------------------------------------------------------------------------

## 4、参考文献

  ------ ------------------------------------------------------ -----------
  编号   参考资料                                               作者

  1      《软件工程（第四版）》，高等教育出版社，2019           齐治昌等

  2      《构建之法（第二版）》，人民邮电出版社，2015           邹欣
  ------ ------------------------------------------------------ -----------

# 二、系统结构模型

## 1、初始对象表

![](media/image2.png){width="5.766666666666667in"
height="3.404861111111111in"}

初始对象/类表：

  ------------ ------------------ ------------------------------------------------------------------------------------
    可能的类        英文类名                                            简单描述

      用户            User                该类是管理员类、商家类、普通用户类的基类，用于提供共有的属性和操作。

     管理员      Administrator                         该类用于对管理员提供一系列信息及相关操作。

    商家用户         Vendor                 该类为商家用户，可以发布和维护商家信息和餐点信息，审核预约订单等

    个人用户        Customer       该类为普通用户，可以维护个人信息、查看商家、餐点、评论，提交订单、发表评论等操作。

   商家信息类        Vendor                                     该类用于商家发布商家信息

   餐点信息类         Item                                      该类用于商家发布餐点信息

   预约订单类        Order                                      该类用于普通用户预定餐点

     评论类         Comment                                       该类用于用户评论商家
  ------------ ------------------ ------------------------------------------------------------------------------------

## 2、初始类图

![](media/image3.png){width="5.876388888888889in" height="3.3875in"}

## 3、细化类图

### 3.1属性的识别

（注：每个属性表中的第一个属性，作为primary key）

**类名：User（用户类）**

**属性表如表3.1.1所示：**

表3.1.1 User类属性表

  --------------- ------------------- ---------------------------------
      中文名            英文名                    数据类型

      用户ID            userID                       int

     登录密码          password                    varchar

     用户类型          userType        varchar(管理员、商家、普通用户)
  --------------- ------------------- ---------------------------------

**类名：Administrator（管理员类）**

**属性表如表3.1.2所示：**

表3.1.2 Administrator类属性表

  --------------- ------------------- ---------------------------------
      中文名            英文名                    数据类型

      用户ID            userID                       int

     登录密码          password                    varchar

     用户类型          userType        varchar(管理员、商家、普通用户)
  --------------- ------------------- ---------------------------------

**类名：Vendor（商家用户类）**

**属性表如表3.1.3所示：**

表3.1.3 Vendor类属性表

  ----------------- ----------------- ---------------------------------
       中文名            英文名                   数据类型

       用户ID            userID                      int

      联系电话            phone                    varchar

      邮箱地址            email                    varchar

      登录密码          password                   varchar

      用户名称          userName                   varchar

      用户类型          userType       varchar(管理员、商家、普通用户)

      创建时间         createTime                 datetime
  ----------------- ----------------- ---------------------------------

**类名：Customer（普通用户类）**

**属性表如表3.1.3所示：**

表3.1.3 Customer类属性表

  ----------------- ------------------ ---------------------------------
       中文名             英文名                   数据类型

       用户ID             userID                      int

      联系电话            phone                     varchar

      邮箱地址            email                     varchar

      登录密码           password                   varchar

      用户名称           userName                   varchar

      用户类型           userType       varchar(管理员、商家、普通用户)

      创建时间          createTime                 datetime
  ----------------- ------------------ ---------------------------------

**类名：Store（商家信息类）**

**属性表如表3.1.5所示：**

表3.1.5 Store类属性表

  --------------- ----------------------- -------------------------------------
      中文名              英文名                        数据类型

      商家ID              storeID                          int

    创建用户ID            userID                           int

     商家名称            storeName                       varchar

     商家简介           description                       text

     商家地点             address                        varchar

     联系电话              phone                         varchar

     营业时间              hours                         varchar

    图片文件名           imageURL                        varchar

     审核状态              state           varchar（待审核、正常营业、已停用）

     发布时间           publishTime                     datetime

     审核时间           reviewTime                      datetime
  --------------- ----------------------- -------------------------------------

**类名：Item（餐点信息类）**

**属性表如表3.1.4所示：**

表3.1.4 Item类属性表

  --------------- --------------------- -----------------
      中文名             英文名             数据类型

      餐点ID             itemID                int

      商家ID             storeID               int

     餐点名称           itemName             varchar

    图片文件名          imageURL             varchar

       简介            description            text

       价格               price               float

     库存数量           quantity               int
  --------------- --------------------- -----------------

**类名：Order（预约订单类）**

**属性表如表3.1.6所示：**

表3.1.6 **Order**类属性表

  --------------- ------------------- -----------------------------------------
      中文名            英文名                        数据类型

      订单ID            orderID                          int

      商家ID            storeID                          int

      用户ID            userID                           int

     创建时间         createTime                      datetime

     审核时间         reviewTime                      datetime

     审核状态            state         varchar(待审核，已同意，已完成，已取消)
  --------------- ------------------- -----------------------------------------

**类名：OrderItem(订单商品类)**

**属性表如表3.1.8所示：**

表3.1.8 OrderItem类属性表

  --------------- ------------------- --------------------
      中文名            英文名              数据类型

     订单项ID         orderItemID             int

      订单ID            orderID               int

      商品ID            itemID                int

       单价            itemPrice             float

       数量            quantity               int
  --------------- ------------------- --------------------

**类名：Comment(评论类)**

**属性表如表3.1.7所示：**

表3.1.7 Comment类属性表

  --------------- ------------------- ---------------------------------------
      中文名            英文名                       数据类型

      评论ID           commentID                        int

      商家ID            storeID                         int

     评论者ID           userID                          int

     评论内容           content                        text

     评论时间         publishTime                    datetime

     审核状态            state         varchar(未审核，审核通过，审核未通过)

     审核时间         reviewTime                     datetime
  --------------- ------------------- ---------------------------------------

### 3.2操作的识别

**类名：User（用户类）**

**操作表如表3.2.1所示：**

表3.2.1 User类操作表

  ------------------- ------------------------- --------------
        中文名                 英文名             返回值类型

       添加用户               addUser()              bool

       删除用户             deleteUser()             bool

     显示用户信息           displayUser()           string

      返回用户ID             getUserID()             int

     返回用户类型           getUserType()            int

      返回用户名            getUserName()           string

      设置用户名            setUserName()            bool

     验证用户密码       verifyUserPassword()         bool

     设置用户密码         setUserPassword()          bool
  ------------------- ------------------------- --------------

**类名：Administrator（管理员类）**

**操作表如表3.2.2所示：**

表3.2.2 Administrator类操作表

  ------------------- ------------------------- --------------
        中文名                 英文名             返回值类型

       添加用户               addUser()              bool

       删除用户             deleteUser()             bool

     显示用户信息           displayUser()           string

      返回用户ID             getUserID()             int

     返回用户类型           getUserType()            int

      返回用户名            getUserName()           string

      设置用户名            setUserName()            bool

     验证用户密码       verifyUserPassword()         bool

     设置用户密码         setUserPassword()          bool

     查找用户信息           searchUser()             list
  ------------------- ------------------------- --------------

**类名：Vendor（商家用户类）**

**操作表如表3.2.3所示：**

表3.2.3 OrdinaryUser类操作表

  ------------------ ------------------------- -----------
        中文名                 文名             数据类型

       添加用户              addUser()            bool

       删除用户            deleteUser()           bool

     显示用户信息          displayUser()         string

      返回用户ID            getUserID()            int

     返回用户类型          getUserType()           int

      返回用户名           getUserName()         string

      设置用户名           setUserName()          bool

     返回用户电话         getUserPhone()         string

     设置用户电话         setUserPhone ()         bool

     返回用户邮箱         getUserEmail()         string

     设置用户邮箱         setUserEmail()          bool

     验证用户密码      verifyUserPassword()       bool

     设置用户密码        setUserPassword()        bool

     返回注册时间      getUserRegisterTime()     string
  ------------------ ------------------------- -----------

**类名：Customer（普通用户类）**

**操作表如表3.2.3所示：**

表3.2.3 Customer类操作表

  --------------------- ------------------------- ----------
         中文名                   文名             数据类型

        添加用户                addUser()            bool

        删除用户              deleteUser()           bool

      显示用户信息            displayUser()         string

       返回用户ID              getUserID()           int

      返回用户类型            getUserType()          int

       返回用户名             getUserName()         string

       设置用户名             setUserName()          bool

      返回用户电话           getUserPhone()         string

      设置用户电话           setUserPhone()          bool

      返回用户邮箱           getUserEmail()         string

      设置用户邮箱           setUserEmail()          bool

      验证用户密码        verifyUserPassword()       bool

      设置用户密码          setUserPassword()        bool

      返回注册时间        getUserRegisterTime()     string
  --------------------- ------------------------- ----------

**类名：Store（商家信息类）**

**操作表如表3.2.4所示：**

表3.2.4 Store类操作表

  ------------------ ----------------------- --------------
        中文名               英文名             数据类型

     提交商家信息         submitStore()           bool

     审核商家信息         auditStore()            bool

     显示商家信息        displayStore()          string

     删除商家信息         deleteStore()           bool

      返回商家ID          getStoreID()            int

     返回商家名称        getStoreName()          string

     设置商家名称        setStoreName()           bool

     返回商家简介     getStoreDescription()      string

     设置商家简介     setStoreDescription()       bool

     设置联系电话        setStorePhone()          bool

     返回联系电话        getStorePhone()         string

     设置商家地点       setStoreAddress()         bool

     返回商家地点       getStoreAddress()        string

     设置营业时间        setStoreHours()          bool

     返回营业时间        getStoreHours()         string

     返回审核状态        getAuditState()         string

     返回发布时间       getPublishTime()         string

     返回审核时间        getReviewTime()         string

     查找商家信息         searchStore()           list
  ------------------ ----------------------- --------------

**类名：Item（餐点信息类）**

**属性表如表3.2.5所示：**

表3.2.5 Item类操作表

  ---------------- -------------------------- ------------
       中文名                英文名            返回值类型

      发布餐点             addItem()              bool

      删除餐点            deleteItem()            bool

    显示餐点信息         displayItem()           string

     返回餐点ID           getItemID()             int

    设置餐点名称         setItemName()            bool

    返回餐点名称         getItemName()           string

     返回商家ID           getStoreID()            int

    返回餐点简介      getItemDescription()       string

    设置餐点简介      setItemDescription()        bool

    设置餐点库存       setItemQuantity()          bool

    返回餐点库存       getItemQuantity()         string

    设置餐点价格         setItemPrice()           bool

    返回餐点价格         getItemPrice()          float

      查找餐点            searchItem()            list
  ---------------- -------------------------- ------------

**类名：Order（预约订单类）**

**操作表如表3.2.6所示：**

表3.2.6 Order类操作表

  --------------- ----------------------- ---------------
     操作名称             函数名            返回值类型

   提交预约订单        submitOrder()           bool

   删除预约订单        deleteOrder()           bool

   显示预约订单       displayOrder()          string

   审核预约订单        reviewOrder()           bool

    返回订单ID         getOrderID()             int

   返回创建时间       getCreateTime()         string

   返回审核时间       getReviewTime()         string

   返回订单状态       getOrderState()         string

    返回总金额       getOrderAmount()          float

    返回商家ID         getStoreID()             int

    返回用户ID          getUserID()             int

     查找订单          searchOrder()           list
  --------------- ----------------------- ---------------

**类名：OrderItem(订单商品类)**

**操作表如表3.2.7所示：**

表3.2.7 OrderItem类操作表

  --------------- --------------------- -----------------
     操作名称            函数名            返回值类型

     提交订单         submitOrder()           bool

     删除订单         deleteOrder()           bool

     显示条目      displayOrderItem()        string

    返回餐点ID         getItemID()             int

    返回订单ID        getOrderID()             int

     返回数量         getQuantity()            int

   返回餐点价格      getItemPrice()           float
  --------------- --------------------- -----------------

**类名：Comment(评论类)**

**操作表如表3.2.8所示：**

表3.2.8 Comment类操作表

  --------------- -------------------- ------------------
     操作名称            函数名            返回值类型

     发表评论       publishComment()          bool

     删除评论       deleteComment()           bool

   显示评论信息     displayComment()         string

     审核评论       reviewComment()           bool

    返回用户ID        getUserID()             int

    返回商家ID        getStoreID()            int

   设置评论内容       setContent()            bool

   返回评论内容       getContent()           string

   返回审核状态    getCommentState()         string

   返回评论时间     getCreateTime()          string

   返回审核时间     getReviewTime()          string

     查找评论       searchComment()           list
  --------------- -------------------- ------------------

## 4、三层精化类图

#### 4.1对Administrator类的三层划分

界面层：

  -------------------------------- --------------------------------------
                名称                                描述

             login.html                           登录界面

           homePage.html                            首页

          manageUser.html                     管理用户账号页面

           userInfo.html                      用户账户信息页面

        reviewStoreInfo.html                  审核商家信息页面

        changePassword.html                     修改密码页面
  -------------------------------- --------------------------------------

事务层：Administrator.java 管理员类

数据层：User.dat 用户信息表

#### 4.2对Vendor类的三层划分

界面层：

  ------------------------------- ---------------------------------------
               名称                                描述

            signup.html                        用户注册界面

            login.html                           登录界面

           homePage.html                           首页

            myInfo.html                   查看和修改个人信息界面

        updatePassword.html                    修改密码页面

        resetPassword.html                     密码找回页面
  ------------------------------- ---------------------------------------

事务层：Vendor.java 商家用户类

数据层：User.dat 用户信息表

#### 4.2对Customer类的三层划分

界面层：

  ------------------------------- ---------------------------------------
               名称                                描述

            signup.html                        用户注册界面

            login.html                           登录界面

           homePage.html                           首页

            myInfo.html                   查看和修改个人信息界面

        updatePassword.html                    修改密码页面

        resetPassword.html                     密码找回页面
  ------------------------------- ---------------------------------------

事务层：Customer.java 消费者用户类

数据层：User.dat 用户信息表

#### 4.3对Store类的三层划分

界面层：

  ----------------------------------- -----------------------------------
                 名称                                描述

         submitStoreInfo.html                  提交商家信息页面

         updateStoreInfo.html                  编辑商家信息页面

         displayStoreInfo.html                 商家信息详情页面

           manageStore.html                    管理商家信息页面

            storeList.html                       商家列表页面
  ----------------------------------- -----------------------------------

事务层：Store.java 商家信息类

数据层：Store.dat 商家信息表

#### 4.4对Item类的三层划分

界面层：

  ------------------------------------- ---------------------------------
                  名称                                描述

              addItem.html                      添加餐点信息页面

              editItem.html                     编辑餐点信息页面

              itemList.html                       餐点列表页面

             manageItem.html                    管理餐点信息页面

             selectItem.html                    用户选择餐点页面

             itemDetail.html                    餐点信息详情页面
  ------------------------------------- ---------------------------------

事务层：Item.java 餐点类

数据层：Item.dat 餐点信息表

#### 4.5对Order类的三层划分

界面层：

  ----------------------------------- -----------------------------------
                 名称                                描述

           submitOrder.html                      提交订单页面

            storeOrder.html                    商家审核订单页面

             myOrder.html                        用户订单页面

           manageOrder.html                      管理订单页面
  ----------------------------------- -----------------------------------

事务层：Order.java 订单类

数据层：Order.dat 订单信息表

#### 4.5对OrderItem类的三层划分

界面层：

  ----------------------------------- -----------------------------------
                 名称                                描述

           submitOrder.html                      提交订单页面

           orderDetail.html                      订单详情页面
  ----------------------------------- -----------------------------------

事务层：OrderItem.java 订单商品类

数据层：OrderItem.dat 订单商品信息表

#### 4.6对Comment类的三层划分

界面层：

  ----------------------------------- -----------------------------------
                 名称                                描述

          publishComment.html                    发布评论页面

           storeComment.html                     商家评论页面

            myComment.html                       用户评论页面

          commentDetail.html                     评论详情页面

          manageComment.html                     管理评论页面

          reviewComment.html                     审核评论页面
  ----------------------------------- -----------------------------------

事务层：Comment.java 评论管理类

数据层：Comment.dat 评论信息表

# 三、系统行为模型

## 1、交互模型

#### 1.1 用户注册顺序图

![](media/image4.png){width="5.763194444444444in" height="3.025in"}

#### 1.2 用户登录顺序图

![](media/image5.png){width="5.7659722222222225in"
height="3.176388888888889in"}

#### 1.3 修改用户信息顺序图

![](media/image6.png){width="5.766666666666667in"
height="3.765277777777778in"}

#### 1.4 注销账号顺序图

![](media/image7.png){width="5.7652777777777775in"
height="2.734027777777778in"}

#### 1.5 密码找回顺序图

![](media/image8.png){width="5.766666666666667in"
height="2.8222222222222224in"}

#### 1.6商家创建提交信息顺序图

![](media/image9.png){width="5.767361111111111in"
height="2.2993055555555557in"}

#### 1.7修改商家信息顺序图

![](media/image10.png){width="5.759027777777778in"
height="2.1819444444444445in"}

#### 1.8商家详情展示顺序图

> ![](media/image11.png){width="5.767361111111111in"
> height="2.654861111111111in"}

#### 1.9审核商家信息顺序图

> ![](media/image12.png){width="5.764583333333333in"
> height="2.388888888888889in"}

#### 1.10搜索商家信息顺序图

![](media/image13.png){width="6.177083333333333in"
height="2.020138888888889in"}

![](media/image13.png){width="0.0in" height="0.0in"}

#### 1.11删除商家信息顺序图

![](media/image14.png){width="5.768055555555556in"
height="2.8409722222222222in"}

#### 1.12添加餐点信息顺序图

![](media/image15.png){width="5.759722222222222in"
height="2.9291666666666667in"}

#### 1.13修改餐点信息顺序图

![](media/image16.png){width="5.7652777777777775in"
height="3.1444444444444444in"}

#### 1.14删除餐点信息顺序图

![](media/image17.png){width="5.763888888888889in"
height="3.2881944444444446in"}

#### 1.15列出餐点信息顺序图

![](media/image18.png){width="5.761111111111111in"
height="3.0548611111111112in"}

#### 1.16查询订单信息顺序图

![](media/image19.png){width="5.767361111111111in"
height="3.0680555555555555in"}

#### 1.17删除订单信息顺序图

![](media/image20.png){width="5.767361111111111in"
height="3.417361111111111in"}

#### 1.18审核餐点信息顺序图

![](media/image21.png){width="5.763194444444444in"
height="3.0395833333333333in"}

#### 1.19提交预约信息顺序图

![](media/image22.png){width="5.7652777777777775in"
height="3.3777777777777778in"}

#### 1.20发布主题帖顺序图

![](media/image23.emf){width="5.746527777777778in"
height="1.5888888888888888in"}

#### 1.21删除主题帖顺序图

![](media/image24.emf){width="5.622222222222222in"
height="2.459722222222222in"}

#### 1.22查询主题帖顺序图

![](media/image25.emf){width="5.756944444444445in"
height="1.8708333333333333in"}

#### 1.16审核主题帖顺序图

![](media/image26.emf){width="5.80625in" height="2.4944444444444445in"}

#### 1.17发表评论顺序图

![](media/image27.png){width="5.766666666666667in"
height="2.8868055555555556in"}

#### 1.18删除评论顺序图

![](media/image28.png){width="5.726388888888889in"
height="3.3534722222222224in"}

#### 1.19审核评论顺序图

![](media/image29.png){width="5.726388888888889in"
height="3.3534722222222224in"}

#### 1.20查看评论顺序图

![](media/image30.png){width="5.726388888888889in"
height="3.3534722222222224in"}

## 2、状态模型

#### 2.1商家信息审核状态图

![](media/image31.png){width="5.766666666666667in"
height="1.9333333333333333in"}

#### 2.2订单审核状态图

![](media/image32.png){width="5.766666666666667in"
height="1.7597222222222222in"}

#### 2.3评论审核状态图

![](media/image33.png){width="5.766666666666667in" height="1.9in"}
